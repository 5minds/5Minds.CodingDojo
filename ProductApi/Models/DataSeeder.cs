using Newtonsoft.Json;

namespace ProductApi.Models
{
    public class DataSeeder
    {
        private readonly ProductContext productContext;

        public DataSeeder(ProductContext context)
        {
            productContext = context;
        }

        public void Seed()
        {
           if (!productContext.Products.Any())
           {
                string json = @"[{""Id"":1,""Name"":""Chai"",""UnitPrice"":18,""UnitsInStock"":39,""Discontinued"":false},{""Id"":2,""Name"":""Chang"",""UnitPrice"":19,""UnitsInStock"":17,""Discontinued"":false},{""Id"":3,""Name"":""Aniseed Syrup"",""UnitPrice"":10,""UnitsInStock"":13,""Discontinued"":false},{""Id"":4,""Name"":""Chef Anton\u0027s Cajun Seasoning"",""UnitPrice"":22,""UnitsInStock"":53,""Discontinued"":false},{""Id"":5,""Name"":""Chef Anton\u0027s Gumbo Mix"",""UnitPrice"":21.35,""UnitsInStock"":0,""Discontinued"":true},{""Id"":6,""Name"":""Grandma\u0027s Boysenberry Spread"",""UnitPrice"":25,""UnitsInStock"":120,""Discontinued"":false},{""Id"":7,""Name"":""Uncle Bob\u0027s Organic Dried Pears"",""UnitPrice"":30,""UnitsInStock"":15,""Discontinued"":false},{""Id"":8,""Name"":""Northwoods Cranberry Sauce"",""UnitPrice"":40,""UnitsInStock"":6,""Discontinued"":false},{""Id"":9,""Name"":""Mishi Kobe Niku"",""UnitPrice"":97,""UnitsInStock"":29,""Discontinued"":true},{""Id"":10,""Name"":""Ikura"",""UnitPrice"":31,""UnitsInStock"":31,""Discontinued"":false},{""Id"":11,""Name"":""Queso Cabrales"",""UnitPrice"":21,""UnitsInStock"":22,""Discontinued"":false},{""Id"":12,""Name"":""Queso Manchego La Pastora"",""UnitPrice"":38,""UnitsInStock"":86,""Discontinued"":false},{""Id"":13,""Name"":""Konbu"",""UnitPrice"":6,""UnitsInStock"":24,""Discontinued"":false},{""Id"":14,""Name"":""Tofu"",""UnitPrice"":23.25,""UnitsInStock"":35,""Discontinued"":false},{""Id"":15,""Name"":""Genen Shouyu"",""UnitPrice"":15.5,""UnitsInStock"":39,""Discontinued"":false},{""Id"":16,""Name"":""Pavlova"",""UnitPrice"":17.45,""UnitsInStock"":29,""Discontinued"":false},{""Id"":17,""Name"":""Alice Mutton"",""UnitPrice"":39,""UnitsInStock"":0,""Discontinued"":true},{""Id"":18,""Name"":""Carnarvon Tigers"",""UnitPrice"":62.5,""UnitsInStock"":42,""Discontinued"":false},{""Id"":19,""Name"":""Teatime Chocolate Biscuits"",""UnitPrice"":9.2,""UnitsInStock"":25,""Discontinued"":false},{""Id"":20,""Name"":""Sir Rodney\u0027s Marmalade"",""UnitPrice"":81,""UnitsInStock"":40,""Discontinued"":false},{""Id"":21,""Name"":""Sir Rodney\u0027s Scones"",""UnitPrice"":10,""UnitsInStock"":3,""Discontinued"":false},{""Id"":22,""Name"":""Gustaf\u0027s Knäckebröd"",""UnitPrice"":21,""UnitsInStock"":104,""Discontinued"":false},{""Id"":23,""Name"":""Tunnbröd"",""UnitPrice"":9,""UnitsInStock"":61,""Discontinued"":false},{""Id"":24,""Name"":""Guaraná Fantástica"",""UnitPrice"":4.5,""UnitsInStock"":20,""Discontinued"":true},{""Id"":25,""Name"":""NuNuCa Nuß-Nougat-Creme"",""UnitPrice"":14,""UnitsInStock"":76,""Discontinued"":false},{""Id"":26,""Name"":""Gumbär Gummibärchen"",""UnitPrice"":31.23,""UnitsInStock"":15,""Discontinued"":false},{""Id"":27,""Name"":""Schoggi Schokolade"",""UnitPrice"":43.9,""UnitsInStock"":49,""Discontinued"":false},{""Id"":28,""Name"":""Rössle Sauerkraut"",""UnitPrice"":45.6,""UnitsInStock"":26,""Discontinued"":true},{""Id"":29,""Name"":""Thüringer Rostbratwurst"",""UnitPrice"":123.79,""UnitsInStock"":0,""Discontinued"":true},{""Id"":30,""Name"":""Nord-Ost Matjeshering"",""UnitPrice"":25.89,""UnitsInStock"":10,""Discontinued"":false},{""Id"":31,""Name"":""Gorgonzola Telino"",""UnitPrice"":12.5,""UnitsInStock"":0,""Discontinued"":false},{""Id"":32,""Name"":""Mascarpone Fabioli"",""UnitPrice"":32,""UnitsInStock"":9,""Discontinued"":false},{""Id"":33,""Name"":""Geitost"",""UnitPrice"":2.5,""UnitsInStock"":112,""Discontinued"":false},{""Id"":34,""Name"":""Sasquatch Ale"",""UnitPrice"":14,""UnitsInStock"":111,""Discontinued"":false},{""Id"":35,""Name"":""Steeleye Stout"",""UnitPrice"":18,""UnitsInStock"":20,""Discontinued"":false},{""Id"":36,""Name"":""Inlagd Sill"",""UnitPrice"":19,""UnitsInStock"":112,""Discontinued"":false},{""Id"":37,""Name"":""Gravad lax"",""UnitPrice"":26,""UnitsInStock"":11,""Discontinued"":false},{""Id"":38,""Name"":""Côte de Blaye"",""UnitPrice"":263.5,""UnitsInStock"":17,""Discontinued"":false},{""Id"":39,""Name"":""Chartreuse verte"",""UnitPrice"":18,""UnitsInStock"":69,""Discontinued"":false},{""Id"":40,""Name"":""Boston Crab Meat"",""UnitPrice"":18.4,""UnitsInStock"":123,""Discontinued"":false},{""Id"":41,""Name"":""Jack\u0027s New England Clam Chowder"",""UnitPrice"":9.65,""UnitsInStock"":85,""Discontinued"":false},{""Id"":42,""Name"":""Singaporean Hokkien Fried Mee"",""UnitPrice"":14,""UnitsInStock"":26,""Discontinued"":true},{""Id"":43,""Name"":""Ipoh Coffee"",""UnitPrice"":46,""UnitsInStock"":17,""Discontinued"":false},{""Id"":44,""Name"":""Gula Malacca"",""UnitPrice"":19.45,""UnitsInStock"":27,""Discontinued"":false},{""Id"":45,""Name"":""Rogede sild"",""UnitPrice"":9.5,""UnitsInStock"":5,""Discontinued"":false},{""Id"":46,""Name"":""Spegesild"",""UnitPrice"":12,""UnitsInStock"":95,""Discontinued"":false},{""Id"":47,""Name"":""Zaanse koeken"",""UnitPrice"":9.5,""UnitsInStock"":36,""Discontinued"":false},{""Id"":48,""Name"":""Chocolade"",""UnitPrice"":12.75,""UnitsInStock"":15,""Discontinued"":false},{""Id"":49,""Name"":""Maxilaku"",""UnitPrice"":20,""UnitsInStock"":10,""Discontinued"":false},{""Id"":50,""Name"":""Valkoinen suklaa"",""UnitPrice"":16.25,""UnitsInStock"":65,""Discontinued"":false},{""Id"":51,""Name"":""Manjimup Dried Apples"",""UnitPrice"":53,""UnitsInStock"":20,""Discontinued"":false},{""Id"":52,""Name"":""Filo Mix"",""UnitPrice"":7,""UnitsInStock"":38,""Discontinued"":false},{""Id"":53,""Name"":""Perth Pasties"",""UnitPrice"":32.8,""UnitsInStock"":0,""Discontinued"":true},{""Id"":54,""Name"":""Tourtière"",""UnitPrice"":7.45,""UnitsInStock"":21,""Discontinued"":false},{""Id"":55,""Name"":""Pâté chinois"",""UnitPrice"":24,""UnitsInStock"":115,""Discontinued"":false},{""Id"":56,""Name"":""Gnocchi di nonna Alice"",""UnitPrice"":38,""UnitsInStock"":21,""Discontinued"":false},{""Id"":57,""Name"":""Ravioli Angelo"",""UnitPrice"":19.5,""UnitsInStock"":36,""Discontinued"":false},{""Id"":58,""Name"":""Escargots de Bourgogne"",""UnitPrice"":13.25,""UnitsInStock"":62,""Discontinued"":false},{""Id"":59,""Name"":""Raclette Courdavault"",""UnitPrice"":55,""UnitsInStock"":79,""Discontinued"":false},{""Id"":60,""Name"":""Camembert Pierrot"",""UnitPrice"":34,""UnitsInStock"":19,""Discontinued"":false},{""Id"":61,""Name"":""Sirop d\u0027érable"",""UnitPrice"":28.5,""UnitsInStock"":113,""Discontinued"":false},{""Id"":62,""Name"":""Tarte au sucre"",""UnitPrice"":49.3,""UnitsInStock"":17,""Discontinued"":false},{""Id"":63,""Name"":""Vegie-spread"",""UnitPrice"":43.9,""UnitsInStock"":24,""Discontinued"":false},{""Id"":64,""Name"":""Wimmers gute Semmelknödel"",""UnitPrice"":33.25,""UnitsInStock"":22,""Discontinued"":false},{""Id"":65,""Name"":""Louisiana Fiery Hot Pepper Sauce"",""UnitPrice"":21.05,""UnitsInStock"":76,""Discontinued"":false},{""Id"":66,""Name"":""Louisiana Hot Spiced Okra"",""UnitPrice"":17,""UnitsInStock"":4,""Discontinued"":false},{""Id"":67,""Name"":""Laughing Lumberjack Lager"",""UnitPrice"":14,""UnitsInStock"":52,""Discontinued"":false},{""Id"":68,""Name"":""Scottish Longbreads"",""UnitPrice"":12.5,""UnitsInStock"":6,""Discontinued"":false},{""Id"":69,""Name"":""Gudbrandsdalsost"",""UnitPrice"":36,""UnitsInStock"":26,""Discontinued"":false},{""Id"":70,""Name"":""Outback Lager"",""UnitPrice"":15,""UnitsInStock"":15,""Discontinued"":false},{""Id"":71,""Name"":""Flotemysost"",""UnitPrice"":21.5,""UnitsInStock"":26,""Discontinued"":false},{""Id"":72,""Name"":""Mozzarella di Giovanni"",""UnitPrice"":34.8,""UnitsInStock"":14,""Discontinued"":false},{""Id"":73,""Name"":""Röd Kaviar"",""UnitPrice"":15,""UnitsInStock"":101,""Discontinued"":false},{""Id"":74,""Name"":""Longlife Tofu"",""UnitPrice"":10,""UnitsInStock"":4,""Discontinued"":false},{""Id"":75,""Name"":""Rhönbräu Klosterbier"",""UnitPrice"":7.75,""UnitsInStock"":125,""Discontinued"":false},{""Id"":76,""Name"":""Lakkalikööri"",""UnitPrice"":18,""UnitsInStock"":57,""Discontinued"":false},{""Id"":77,""Name"":""Original Frankfurter grüne Soße"",""UnitPrice"":13,""UnitsInStock"":32,""Discontinued"":false}]";

                var products = JsonConvert.DeserializeObject<List<Product>>(json);
                if (products != null)
                {
                    productContext.Products.AddRange(products);
                    productContext.SaveChanges();
                }
            }
        }
    }
}
